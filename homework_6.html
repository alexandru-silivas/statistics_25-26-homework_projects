<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Homework 6</title>
  <link rel="stylesheet" href="style.css">

  <!-- MathJax for rendering formulas -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar">
    <nav>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="homework_1.html">HMWK 1</a></li>
        <li><a href="homework_2.html">HMWK 2</a></li>
        <li><a href="homework_3.html">HMWK 3</a></li>
        <li><a href="homework_4.html">HMWK 4</a></li>
        <li><a href="homework_5.html">HMWK 5</a></li>
        <li><a href="homework_6.html" class="active">HMWK 6</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="main-content">
      <h1>Homework 6</h1>
      <hr class="section-separator">
      <h2>Online Algorithms for Mean and Variance</h2>

      <p>
        Traditional “batch” algorithms for mean and variance require storing all previous data points
        and recomputing statistics each time a new value is added. This approach is computationally
        expensive and prone to floating-point errors — especially when processing large datasets.
        <strong>Online algorithms</strong> address this by updating statistics incrementally as new data arrives,
        using compact recurrence formulas that preserve numerical stability and efficiency.
      </p>

      <h3>1. Derivation of the Recurrence Relations</h3>
      <p>
        Suppose we have a sequence of observations $x_1, x_2, \dots, x_n$.  
        The arithmetic mean (average) of the first $n$ samples is defined as:
      </p>

      <p style="text-align:center;">$$
        \mu_n = \frac{1}{n} \sum_{i=1}^{n} x_i
      $$</p>

      <p>
        When a new value $x_{n+1}$ arrives, the mean can be updated incrementally as:
      </p>

      <p style="text-align:center;">$$
        \mu_{n+1} = \mu_n + \frac{x_{n+1} - \mu_n}{n + 1}
      $$</p>

      <p>
        This formula allows updating the mean efficiently without recalculating the entire sum.
      </p>

      <p>
        Similarly, the variance — which measures the dispersion or spread of the data — is defined as:
      </p>

      <p style="text-align:center;">$$
        \sigma_n^2 = \frac{1}{n} \sum_{i=1}^{n} (x_i - \mu_n)^2
      $$</p>

      <p>
        Updating variance online requires care to avoid numerical instability.
        A numerically stable recurrence relation can be derived (known as <strong>Welford’s algorithm</strong>):
      </p>

      <p style="text-align:center;">$$
        \begin{aligned}
        \delta &= x_{n+1} - \mu_n \\
        \mu_{n+1} &= \mu_n + \frac{\delta}{n + 1} \\
        M_{2,n+1} &= M_{2,n} + \delta (x_{n+1} - \mu_{n+1})
        \end{aligned}
      $$</p>

      <p>
        The variance is then computed as:
      </p>

      <p style="text-align:center;">$$
        \sigma_{n+1}^2 = \frac{M_{2,n+1}}{n + 1}
      $$</p>

      <p>
        This method prevents rounding errors and does not require storing all previous samples.
      </p>

      <h3>2. Interactive Demonstration: Online Mean & Variance</h3>
      <p>
        The interactive tool below demonstrates how mean and variance evolve as new data points are entered.
        You can input values one by one, and the chart updates dynamically to reflect the recalculated
        mean and variance using the online recurrence formulas.
      </p>

      <section id="online-tool">
        <div class="input-section">
          <label for="newValue">Enter new value:</label>
          <input type="number" id="newValue" step="any">
          <button type="button" onclick="addValue()">Add Value</button>
          <button type="button" onclick="resetValues()">Reset</button>
        </div>

        <div class="stats-display">
          <p><strong>Count (n):</strong> <span id="count">0</span></p>
          <p><strong>Mean (μ):</strong> <span id="mean">0</span></p>
          <p><strong>Variance (σ²):</strong> <span id="variance">0</span></p>
        </div>

        <div id="chart-container">
          <canvas id="onlineChart"></canvas>
        </div>
      </section>

      <h3>3. Explanation of the Implementation</h3>
      <p>
        The JavaScript code keeps track of the current count, mean, and the auxiliary term $M_2$
        (used in Welford’s algorithm). Each time a new data point is added, the following steps occur:
      </p>

      <ul>
        <li>Compute $\delta = x - \mu_{old}$ (difference from the previous mean)</li>
        <li>Update the mean using $\mu_{new} = \mu_{old} + \frac{\delta}{n}$</li>
        <li>Update $M_2$ with $M_{2,new} = M_{2,old} + \delta (x - \mu_{new})$</li>
        <li>Compute variance: $\sigma^2 = M_2 / n$</li>
      </ul>

      <p>
        This method is efficient (O(1) time per update) and avoids the numerical instability
        caused by summing large numbers or computing differences of nearly equal values.
      </p>

      <h3>4. Practical Relevance</h3>
      <p>
        Online algorithms are particularly useful in streaming data applications — such as
        real-time analytics, IoT sensor monitoring, or financial tick data — where new observations
        arrive continuously and reprocessing all previous data would be infeasible.
      </p>

      <hr>
      <a href="index.html" class="back-button">← Back to Home</a>
    </div>
  </main>

  <footer class="site-footer">
    © 2025 Alexandru Silivas — ID 2252622 — 
    <a href="mailto:silivas.2252622@studenti.uniroma1.it">silivas.2252622@studenti.uniroma1.it</a>
  </footer>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="mean_variance_online.js"></script>
</body>
</html>
