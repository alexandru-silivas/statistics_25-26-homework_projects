<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Homework 5 — Measures of Location & Online Statistics</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar">
    <nav>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="homework_1.html">HMWK 1</a></li>
        <li><a href="homework_2.html">HMWK 2</a></li>
        <li><a href="homework_3.html">HMWK 3</a></li>
        <li><a href="homework_4.html">HMWK 4</a></li>
        <li><a href="homework_5.html" class="active">HMWK 5</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="main-content">
      <h1>Homework 5</h1>
      <hr class="section-separator" />

      <h2>1. Measures of Location — Understanding the Mean</h2>
      <p>
        A <strong>measure of location</strong> (or measure of central tendency)
        represents a typical or central value around which a set of numbers is distributed.
        The most common are:
      </p>

      <ul>
        <li><strong>Arithmetic Mean:</strong> The standard average, useful for symmetric data.</li>
        <li><strong>Median:</strong> The middle value — robust to outliers.</li>
        <li><strong>Mode:</strong> The most frequent value — good for categorical data.</li>
        <li><strong>Geometric Mean:</strong> Used for growth rates or multiplicative data (e.g., finance).</li>
        <li><strong>Harmonic Mean:</strong> Useful when averaging rates, like speeds.</li>
        <li><strong>Trimmed Mean:</strong> Removes extreme values before averaging — helpful for noisy data.</li>
      </ul>

      <h3>Example (Python-like pseudocode)</h3>
      <pre><code># Arithmetic mean
data = [2, 4, 6, 8]
mean = sum(data) / len(data)

# Geometric mean
import math
geo_mean = math.prod(data)**(1/len(data))

# Harmonic mean
harm_mean = len(data) / sum(1/x for x in data)
      </code></pre>

      <h2>2. Mean vs Variance — Understanding Their Difference</h2>
      <p>
        The <strong>mean</strong> tells us where the data tends to cluster — it’s the “center” of our dataset.  
        The <strong>variance</strong>, on the other hand, measures how spread out the data is around the mean.
      </p>

      <p>
        A small variance means that most values are close to the mean, while a large variance indicates a wide spread.  
        Mathematically, the variance is the average of the squared differences from the mean:
      </p>

      <pre><code>variance = Σ (x - mean)² / n</code></pre>

      <p>
        In simple terms:  
        - The <em>mean</em> describes the “location”.  
        - The <em>variance</em> describes the “dispersion”.
      </p>

      <h2>3. Online Calculation of Mean and Variance</h2>
      <p>
        When dealing with large data streams, we can’t always store every value to recompute the mean and variance.  
        Instead, we use an <strong>online algorithm</strong> — which updates both with each new observation.
      </p>

      <p>The most efficient method is <strong>Welford’s algorithm</strong>:</p>

      <pre><code>// JavaScript version
let n = 0, mean = 0, M2 = 0;

function update(newValue) {
  n++;
  let delta = newValue - mean;
  mean += delta / n;
  M2 += delta * (newValue - mean);
}

let variance = M2 / n;
      </code></pre>

      <p>
        Each time a new value arrives, the function updates the running mean and variance
        without needing to recalculate from scratch.
      </p>

      <h3>How the Interactive Tool Works</h3>
      <p>
        Below is a real-time calculator that lets you add data points one by one.  
        As you enter values, the system updates the <strong>mean</strong> and <strong>variance</strong> instantly using Welford’s algorithm.  
        The accompanying chart visualizes both statistics evolving together — the blue line for the mean and the orange line for the variance.
      </p>

      <!-- Interactive Tool -->
      <section id="online-stats-tool">
        <div class="rsa-row">
          <label for="newValue">Add a number:</label>
          <input id="newValue" type="number" placeholder="Enter a value..." />
          <button type="button" onclick="addValue()">Add Value</button>
        </div>

        <p id="statsStatus">No data yet.</p>
        <canvas id="statsChart" height="250"></canvas>
      </section>

      <h3>Understanding the Code</h3>
      <p>
        The JavaScript file <code>homework5.js</code> keeps track of all values entered by the user.  
        Every time you add a number, it:
      </p>
      <ol>
        <li>Updates the total count (<code>n</code>).</li>
        <li>Calculates the new mean and variance using the <code>update()</code> function.</li>
        <li>Refreshes the chart in real time with Chart.js to visualize the trend.</li>
      </ol>
      <p>
        This demonstrates the power of <strong>online algorithms</strong>: instead of recomputing statistics from scratch,
        they efficiently adapt to each new piece of data.
      </p>

      <hr />
      <a href="index.html" class="back-button">← Back to Home</a>
    </div>
  </main>

  <footer class="site-footer">
    © 2025 Alexandru Silivas — ID 2252622 —
    <a href="mailto:silivas.2252622@studenti.uniroma1.it">silivas.2252622@studenti.uniroma1.it</a>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="mean_variance_online.js"></script>
</body>
</html>
